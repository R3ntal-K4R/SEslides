<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>reveal.js</title>
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<link rel="stylesheet" href="plugin/highlight/monokai.css">

		<link rel="import" href="slides/slide_test.html">
		<style>

			html, body {
				height: 100%;
				margin: 0;
				overflow: hidden;
			}

			.reveal {
				height: 100vh;
				padding-top: 0px;
				padding-bottom: 0px;
				box-sizing: border-box;
			}

			.reveal .slides {
				font-size: 32px;
				max-width: 800px;
				margin: 0 auto;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<section>
					<h2 style="color: rgb(104, 104, 203);">1</h2>
					<h2>Codebase: One Codebase, Multiple Deployments</h2>
					<p>A single source code repository should be used for every application. Different environments should be handled using environment variables rather than separate codebases.</p>
					<p>Best Practice: Use Git, Azure Repos, or GitHub.</p>
					<p>Example:</p>
					<pre><code>git clone https://github.com/example/app-repo.git</code></pre>
				</section>

				<section>
					<h2 style="color: rgb(104, 104, 203);">2</h2>
					<h2>Dependencies: Explicitly Declare and Isolate Dependencies</h2>
					<p>Applications should never rely on system-wide dependencies. Instead, package managers should be used.</p>
					<p>Best Practice: Use Docker to ensure dependency isolation.</p>
					<p>Example:</p>
					<pre><code>dotnet add package Microsoft.EntityFrameworkCore.SqlServer</code></pre>
				</section>
 
				<section>
					<h2 style="color: rgb(104, 104, 203);">6</h2>
					<h2>Processes: Execute the App as One or More Stateless Processes</h2>
					<p>Applications should not rely on local file storage or in-memory sessions.</p>
					<p>Best Practice: Use Azure Blob Storage instead of local disk storage.</p>
					<p>Example:</p>
					<pre><code>var blob = new BlobClient(connectionString, containerName, blobName);
await blob.UploadAsync(fileStream);</code></pre>
				</section>
				

				<section>
					<section>
						<h2>III. Config</h2>
					
					</section>
					<section>
						<h3>
							‚òùÔ∏è An app‚Äôs¬†_config_¬†is everything that is likely to vary between deploys (staging, production, developer environments, etc). 
						<h3>
					</section>

					<section data-auto-animate >
			
						
						<p data-id="code-title">app.py</p>
						<pre data-id="code_animation">
							<code data-line-numbers="|5" class="hljs python">from flask import Flask
from redis import Redis

app = Flask(__name__)
redisDb = Redis(host="redis-db",port=6300)

@app.route('/')
def welcome_physics_friend():
	redisDb.incr('visitorCount')
	visitorCount = str(redisDb.get('visitorCount'),'utf-8')
	return "Hi physics friend! Friend count: " + visitorCount

if __name__ == "__main__":
app.run(host="0.0.0.0", debug=True)
							</code>
						</pre>


					</section>
					<section data-auto-animate >
			
					<p data-id="code-title">.env</p>
					<pre data-id="code_animation">
						<code data-line-numbers="|5" class="hljs python">  HOST = "redis_db"
	PORT = "6379"
						</code>
					</pre>

					<p data-id="code-title">app.py</p>
						<pre data-id="code_animation">
							<code data-line-numbers="|" class="hljs python">from flask import Flask
from redis import Redis

app = Flask(__name__)
redisDb = Redis(host="redis-db",port=6300)

@app.route('/')
def welcome_physics_friend():
	redisDb.incr('visitorCount')
	visitorCount = str(redisDb.get('visitorCount'),'utf-8')
	return "Hi physics friend! Friend count: " + visitorCount

if __name__ == "__main__":
app.run(host="0.0.0.0", debug=True)
							</code>
						</pre>


					</section>
					<section data-auto-animate >
			
						<p data-id="code-title">.env</p>
						<pre data-id="code_animation">
							<code data-line-numbers="|5" class="hljs python">  HOST = "redis_db"
	PORT = "6379"
							</code>
						</pre>
	
						<p data-id="code-title">app.py</p>
							<pre data-id="code_animation">
								<code data-line-numbers="|5" class="hljs python">from flask import Flask
from redis import Redis

app = Flask(__name__)
redisDb = Redis(host=os.getenv('HOST'),port=os.getenv('PORT'))
	
@app.route('/')
def welcome_physics_friend():
	redisDb.incr('visitorCount')
	visitorCount = str(redisDb.get('visitorCount'),'utf-8')
	return "Hi physics friend! Friend count: " + visitorCount
	
if __name__ == "__main__":
app.run(host="0.0.0.0", debug=True)
								</code>
							</pre>
	
	
						</section>
						<section data-auto-animate data-auto-animate-id="two">
							<div style="display: flex; flex-direction: row; justify-content: center; align-items: center;">

								Codeb<div data-id="box2" style="background: #cdcaca; color:black; width: 150px; height: 100px; margin: 10px;line-height: 100px; padding: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">Code</div>
								
							</div>
		
		
						</section>
						<section data-auto-animate data-auto-animate-id="two" data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					
							<div style="display: flex; flex-direction: row ;justify-content: center; align-items: center;">

								<div data-id="box2" style="background: #cdcaca; color:black; width: 150px; height: 100px; margin: 10px; padding: 10px; border-radius: 5px; vertical-align: middle;text-align: center;line-height: 100px; ">Code</div>
								<div style="display: flex; flex-direction: column;justify-content: center; align-items: center;">
									Deployments<div data-id="box2" data-auto-animate-delay="0" style="background: #f4b6b6; color:rgb(0, 0, 0); width: 150px; height: 100px;line-height: 100px; padding: 10px;
									 margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">dev</div>
									<div data-id="box2" data-auto-animate-delay="0.1" style="background: #b0dced; color:black; width: 150px; height: 100px; line-height: 100px; padding: 10px;
									margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">staging</div>
									<div data-id="box2" data-auto-animate-delay="0.2" style="background: #bce596; color:black; width: 150px; height: 100px; line-height: 100px; padding: 10px;
									margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">prod</div>

							</div>
							</div>
		
		
						</section>
						<section data-auto-animate data-auto-animate-id="two" data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					
							<div style="display: flex; flex-direction: row ;justify-content: center; align-items: center;">

								<div data-id="box2" style="background: #cdcaca; color:black; width: 150px; height: 100px; margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;line-height: 100px; ">Code</div>
								<div style="display: flex; flex-direction: column;justify-content: center; align-items: center;">
									Configs<code data-id="box2" data-auto-animate-delay="0" style=" border: 2px solid rgb(255, 255, 255); padding: 2px; background: #000000;font-size: 12px;
									 color:rgb(255, 255, 255); width: 150px; height: 100px;line-height: 100px;
									 margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center; ">HOST = "redis_db"<br>
</code>
									<code data-id="box2" data-auto-animate-delay="0" style=" border: 2px solid rgb(255, 255, 255); padding: 2px; background: #000000; font-size: 12px;
									color:rgb(255, 255, 255); width: 150px; height: 100px;line-height: 100px;
									margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center; ">HOST = "redis_db"<br>
</code>
									<code data-id="box2" data-auto-animate-delay="0" style=" border: 2px solid rgb(255, 255, 255); padding: 2px; background: #000000; font-size: 12px;
									color:rgb(255, 255, 255); width: 150px; height: 100px;line-height: 100px;
									 margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center; ">HOST = "redis_db"<br>
</code>

							</div>
								<div style="display: flex; flex-direction: column;justify-content: center; align-items: center;">
									Deployments<div data-id="box2" data-auto-animate-delay="0" style="background: #f4b6b6; color:rgb(0, 0, 0); width: 150px; height: 100px;line-height: 100px; padding: 10px;
									 margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">dev</div>
									<div data-id="box2" data-auto-animate-delay="0.1" style="background: #b0dced; color:black; width: 150px; height: 100px; line-height: 100px; padding: 10px;
									margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">staging</div>
									<div data-id="box2" data-auto-animate-delay="0.2" style="background: #bce596; color:black; width: 150px; height: 100px; line-height: 100px; padding: 10px;
									margin: 10px; border-radius: 5px; vertical-align: middle;text-align: center;">prod</div>

							</div>
							</div>
		
		
						</section>
						
				</section>
			
				

				<section>
					<section>IV. Backing services</section>
					<section>
						<p>ü§ìA backing service is any service the app consumes over the network as part of its normal operation.</p>
					</section>
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>Instant</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
		
						</div>
					</section>
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
							<div data-id="box2" style="background: #b4db99; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonS3</div>
							<div data-id="box3" style="background: #a5aaf8; width: 160px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">SQLite</div>
						</div>
					</section>
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>‚òùÔ∏ètreat backing services as attached resouces</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
							<div data-id="box2" style="background: #b4db99; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonS3</div>
							<div data-id="box3" style="background: #a5aaf8; width: 160px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">SQLite</div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>‚òùÔ∏ètreat backing services as attached resouces</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
							<div data-id="box2" style="background: #b4db99; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonS3</div>
				
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>‚òùÔ∏ètreat backing services as attached resouces</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
							<div data-id="box2" style="background: #b4db99; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonS3</div>
							<div data-id="box4" style="background: #f998ee; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonRDS</div>
						</div>
					</section>

					

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>‚òùÔ∏ètreat backing services as attached resouces</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
							<div data-id="box2" style="background: #b4db99; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonS3</div>
							<div data-id="box4" style="background: #f998ee; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonRDS</div>
							
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>‚òùÔ∏ètreat backing services as attached resouces</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
						
							<div data-id="box4" style="background: #f998ee; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonRDS</div>
							
						</div>
					</section>
					
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<h2>‚òùÔ∏ètreat backing services as attached resouces</h2>
						<div class="r-hstack justify-center">
							<div data-id="box1" style="background: #ffffff; width: 160px; height: 110px; margin: 10px; border-radius: 5px; color: #000000;line-height: 110px">Deploy</div>
						</div>
						<div class="r-hstack justify-center" style="margin-top: 50px;">
							<div data-id="box5" style="background: #e9cc77; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">CloudflareR2</div>
							<div data-id="box4" style="background: #f998ee; width: 200px; height: 110px; margin: 10px; border-radius: 5px;color: #000000;line-height: 110px">AmazonRDS</div>
						</div>
					</section>
						
				</section>
				<section>
					<section><h1>V. Build, release, run</h1><h5>From codebase to Deploy</h5></section>
					<section>
						<h1>The 3 Phases</h1>
						<h2 class="fragment"><span style="color: orange;">BUILD</span>: Executable file is created</h2>
						<h2 class="fragment"><span style="color: rgb(172, 99, 208);">RELEASE</span>: Executable file + config file = release object</h2>
						<h2 class="fragment"><span style="color: rgb(96, 195, 95);">RUN</span>: Run the app in execution Environment</h2>
					</section>
					<section>
						<h1>12 Factor Approach</h1>
						<strong style="color: royalblue;">The twelve-factor app uses strict separation between the build, release, and run stages.</strong>
						<h2 class="fragment"><span style="color: orange;">BUILD</span>: Builde executable (docker build script)</h2>
						<h2 class="fragment"><span style="color: rgb(172, 99, 208);">RELEASE</span>: unique release ID, change to code = new release</h2>
						<h2 class="fragment"><span style="color: rgb(96, 195, 95);">RUN</span>: same build is run in all environments. Impossible to make runtime changes</h2>
					</section>
					<section>
						<h1>Helpful because...</h1>
						<h2>Mistakes in code</h2>
						<pre><code class="python">
							#release V02
							print("Goodbye, World")
							</code></pre>
						<li class="file">Fixing, committing, and re-deploying takes too long</li>
						<li class="fragment">You can rollback to previous release because you can store build artifacts</li>
					</section>
					<section>
						<h1>Rollback</h1>
						<pre><code class="python">
							#release V01
							print("Hello, World")
							</code></pre>
						<h2>all good now, this is much faster</h2>
					</section>
					<section>
						<h1>release management tools</h1>
						<li style="color: rgba(8, 151, 8, 0.658);">Capistrano: A deployment automation tool</li>
					</section>
				</section>
				<section>VI. Processes</section>
				


				<section>VIII. Concurrency</section>
				<section>
					<section>
						<h1>IX. Disposability</h1>
					</section>
					<section>
						<h1>12 Factor App Characteristics</h1>
						<p class="fragment" style="color: royalblue;">"The twelve-factor app‚Äôs processes are disposable, meaning they can be started or stopped at a moment‚Äôs notice."</p>
						<li class="fragment">trive to minimize startup time</li>
						<li class="fragment">Processes shut down gracefully when they receive a SIGTERM signal</li>
					</section>
					<section>
						<h1>Graceful Shutdown</h1>
						<h3 class="fragment" style="color: purple;">For Web process</h3>
						<li class="fragment">Needs a process manager to receive SIGTERM</li>
						<li class="fragment">Needs to stop listening to new requests</li>
						<li class="fragment">Needs to complete current request</li>
						<li class="fragment">Then terminate</li>
						<h3 class="fragment" style="color: purple;">For Worker process</h3>
						<li class="fragment">Return current job to the work queue</li>
					</section>
					<section>
						<h2>What does It look Like</h2>
						<h6>Pseudo Example With RabbitMQ</h6>
						<pre><code class="python">
							import pika

def callback(ch, method, properties, body):
    try:
        # Process the message
        process_message(body)
        ch.basic_ack(delivery_tag=method.delivery_tag)
    except Exception as e:
        # Something went wrong, we send NACK
        ch.basic_nack(delivery_tag=method.delivery_tag, requeue=True)

						</code></pre>
						<p>Sends a NACK (Negative Acknowledgment) if the message fails.</p>
					</section>
				</section>
				<section>
					<section data-markdown="slide_test.html" role="slide"></section>
					<section>
						<section>
							IV. Backing services
						</section>
						<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
							<h2>Auto-Animate</h2>
							<p>Automatically animate matching elements across slides with <a href="https://revealjs.com/auto-animate/">Auto-Animate</a>.</p>
							<div class="r-hstack justify-center">
								<div data-id="box1" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
								<div data-id="box2" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
								<div data-id="box3" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
							</div>
						</section>
						<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
							<div class="r-hstack justify-center">
								<div data-id="box1" data-auto-animate-delay="0" style="background: cyan; width: 150px; height: 100px; margin: 10px;"></div>
								<div data-id="box2" data-auto-animate-delay="0.1" style="background: magenta; width: 150px; height: 100px; margin: 10px;"></div>
								<div data-id="box3" data-auto-animate-delay="0.2" style="background: yellow; width: 150px; height: 100px; margin: 10px;"></div>
							</div>
							<h2 style="margin-top: 20px;">Auto-Animate</h2>
						</section>
						<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
							<div class="r-stack">
								<div data-id="box1" style="background: cyan; width: 300px; height: 300px;"></div>
								<div data-id="box2" style="background: magenta; width: 200px; height: 200px;"></div>
								<div data-id="box3" style="background: yellow; width: 100px; height: 100px;"></div>
							</div>
							<h2 style="margin-top: 20px;">Auto-Animate</h2>
						</section>
					</section>

				</section>
				<section>VI. Processes</section>
				

				<section>
					<section>VII. Port binding</section>
					<section >
						<img src="src/cat-nerd.gif" alt="">
						<h2> What is Port Binding?</h2>
						<p><span style="color: #96e5c9;">Port binding</span> is the act of associating a <span style="color: #ae96e5;">process(web server) </span> with a <span style="color: #bce596;">specific port number </span>on a host machine so it can send and receive network traffic.
</p>
						</script>
					</section>
					
					<section>		
					<p>app.py</p>					
					<pre data-id="code_animation">
					<code data-line-numbers="|14" class="hljs python">from flask import Flask
from redis import Redis

app = Flask(__name__)
redisDb = Redis(host=os.getenv('HOST'),port=os.getenv('PORT'))

@app.route('/')
def welcome_physics_friend():
redisDb.incr('visitorCount')
visitorCount = str(redisDb.get('visitorCount'),'utf-8')
return "Hi physics friend! Friend count: " + visitorCount

if __name__ == "__main__":
app.run(host="0.0.0.0", debug=True)
						</code>
					</pre>


					</section>
					<section data-markdown data-auto-animate>
						<script type="text/template">
							## Exposing service
	
							```html []	
							## bash
							$ docker run -p 8080:80 my-app					
							```
						</script>
					</section>

					<section data-markdown data-auto-animate>
						<script type="text/template">
							## Exposing service
							Port `80` inside the container (where the app runs)
							Is accessible from port `8080` on your host machine
							```html []	
							## bash
							$ docker run -p 8080:80 my-app					
							```

						
						
						</script>
						
					</section>
					<section data-markdown data-auto-animate>
						<script type="text/template">
							## Exposing service
							So now, hitting `http://localhost:8080` reaches the app inside the container.

							```html []	
							## bash
							$ docker run -p 8080:80 my-app					
							```
						
						</script>
						
					</section>
					
					<section data-auto-animate-id="two" data-auto-animate>
						<h2>Running multiple services</h2>
						Port binding lets you run <span style="color: #b0dced;">multiple services</span> on the same machine, each on a different port. For example:
						<ul>
							<li style="color: #f998ee;"> Your frontend on port `3000`</li>
							<li style="color: #9596d0;"> Your backend on port `5000`</li>
							<li style="color: #97f0ab;">Your database on port `5432`</li>
						</ul>
					</section>

					

					<section data-auto-animate-id="two" data-auto-animate>
						<div style="display: flex; flex-direction: column;justify-content: center; align-items: center;">
							<p>Each service listens to its own port = <span style="color: coral; font-size: larger;">no conflict</span></p>
							<div class="tenor-gif-embed" data-postid="753221407762395964" data-share-method="host" data-aspect-ratio="0.92827" data-width="50%"><a href="https://tenor.com/view/meme-cat-cat-meme-happy-happy-happy-cat-meme-gif-753221407762395964">Meme Cat Cat Meme Sticker</a>from <a href="https://tenor.com/search/meme+cat-stickers">Meme Cat Stickers</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>	
						</div>
						
					</section>

				<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					<h2>Auto-Animate</h2>
					<p>Automatically animate matching elements across slides with <a href="https://revealjs.com/auto-animate/">Auto-Animate</a>.</p>
					<div class="r-hstack justify-center">
						<div data-id="box1" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						<div data-id="box2" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						<div data-id="box3" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
					</div>
				</section>
				<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					<div class="r-hstack justify-center">
						<div data-id="box1" data-auto-animate-delay="0" style="background: cyan; width: 150px; height: 100px; margin: 10px;"></div>
						<div data-id="box2" data-auto-animate-delay="0.1" style="background: magenta; width: 150px; height: 100px; margin: 10px;"></div>
						<div data-id="box3" data-auto-animate-delay="0.2" style="background: yellow; width: 150px; height: 100px; margin: 10px;"></div>
					</div>
					<h2 style="margin-top: 20px;">Auto-Animate</h2>
				</section>
				<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					<div class="r-stack">
						<div data-id="box1" style="background: cyan; width: 300px; height: 300px;"></div>
						<div data-id="box2" style="background: magenta; width: 200px; height: 200px;"></div>
						<div data-id="box3" style="background: yellow; width: 100px; height: 100px;"></div>
					</div>
					<h2 style="margin-top: 20px;">Auto-Animate</h2>
				</section>
			</section>

				<section>
					<section>
						<h1>VIII. Concurrency</h1>
					</section>
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<p> Instant</p>
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						<div class="r-hstack justify-center">
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px;margin: 10px;"></img>
						</div>
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<p>But what happens when more users visit our site?<p>						
							<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>Vertical scaling</h2>
						<p>‚ÄúMake one machine beefier.‚Äù</p>
						<p>Add more CPU, RAM, or storage to improve performance.</p>					
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #999; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>Vertical scaling</h2>
						<p>But there's typically downtime during the upgrade.</p>
										
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #000000; width: 70px; height: 180px; margin: 10px; border-radius: 5px; border: 2px white solid;"></div>
						</div>
					</section>


					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>Vertical scaling</h2>
						<p>But there's typically downtime during the upgrade.</p>
										
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/sad-cat-content-aware-scale.gif" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/sad-cat-content-aware-scale.gif" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/sad-cat-content-aware-scale.gif" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #000000; width: 70px; height: 180px; margin: 10px; border-radius: 5px; border: 2px white solid;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>Vertical scaling</h2>
						<p>But there's typically **downtime** during the upgrade.</p>
						<p>reach limit for upgrade</p>					
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/sad-cat-content-aware-scale.gif" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/sad-cat-content-aware-scale.gif" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/sad-cat-content-aware-scale.gif" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #f40000; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>horizontal scaling</h2>
									
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box2" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>horizontal scaling</h2>
						<p>Instead of upgrading a single server, we can scale horizontally:	</p>
									
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box2" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>
					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<h2>horizontal scaling</h2>
						<p>ü§ì adding more machines (or instances) to handle increased load</p>
									
						<div class="r-hstack justify-center">
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 10px;"></img>

						</div>
						
						<div class="r-hstack justify-center">
					
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box2" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
					
						</div>
					</section>




					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
						
						<div class="r-hstack justify-center">
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
						</div>
						<div class="r-hstack justify-center">
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
						</div>
						<div class="r-hstack justify-center">
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img1" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img2" src="./src/oneGuy.png" style="width: 80px; margin: 5x;"></img>
							<img data-id="img3" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
							<img data-id="img0" src="./src/oneGuy.png" style="width: 80px; margin: 5px;"></img>
						</div>
						
						
						<div class="r-hstack justify-center">
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>

							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box2" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
						</div>
					</section>

					<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
		
						
						<div class="r-hstack justify-center">
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>

							<div data-id="box3" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box2" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
							<div data-id="box4" style="background: #aff0ae; width: 70px; height: 180px; margin: 10px; border-radius: 5px;"></div>
						</div>
						<p>our application needs to be built as a <span style="color: #f998ee;">Stateless</span>, <span style="color: #f9c898;">independent service</span>.</p>
					</section>


				<section>X. Dev/prod parity</section>
				<section>
					<section>
						<h1>XI. Logs</h1>
					</section>
					<section>
						<h2>
							Common Practice
						</h2>
						<p class="fragment">
							- Having app write logs to a logsFile.txt
						</p>
						<p class="fragment">
							- sending logs to SPECIFIC logging provider
						</p>
						<p class="fragment">
							- THESE ARE DISCOURAGED
						</p>
						<h6 style="color: yellow;", class="fragment">
							Why?
						</h6>
						<p class="fragment">
							- these files can be lost if a container is killed
						</p>
						<p class="fragment">
							- tie the code to a specific solution, not PORTABLE
						</p>
					</section>
					<section id="fragments">
						<h2>
							12 Factor Practices
						</h2>
						<p class="fragment">
							- "A twelve-factor app never concerns itself with routing or storage of its output stream."
						</p>
						<p class=" fragment">
							each running process writes its event stream, unbuffered, to stdout.
						</p>
						<p class="fragment">
							- handling logs is specified by the <span style="color: aqua;">environment</span>
						</p>
						<p class="fragment">
							- logs are structured (how depends what you use)
						</p>
					</section>
					<section style="background-color: #999;">
						<h2>Example for Fluentd</h2>
						<img src=".\src\Fluentd_square.png">
					</section>
					<section>
						<h2>For log stream</h2>
						<pre><code class="python" style="white-space: pre-wrap; word-wrap: break-word; overflow-wrap: break-word; max-height: 80vh; height: auto;">
							# log_writer.py
							import logging
							import sys
							import time
							import json
							
							logger = logging.getLogger('stdout_logger')
							logger.setLevel(logging.INFO)
							
							handler = logging.StreamHandler(sys.stdout)
							formatter = logging.Formatter('%(message)s')
							handler.setFormatter(formatter)
							logger.addHandler(handler)
							
							for i in range(5):
								log_entry = {
									"timestamp": time.time(),
									"message": f"Log message {i}",
									"level": "info"
								}
								logger.info(json.dumps(log_entry))
								time.sleep(1)
								</code></pre>
								<h5 style="color: rgb(193, 152, 76);">This doen't know fluentd exists</h5>
					</section>
					<section>
						<h3>The Fluentd config</h3>
						<pre><code class="xml">
							&lt;source&gt;
							  @type forward
							  port 24224
							  bind 0.0.0.0
							&lt;/source&gt;
							
							&lt;filter **&gt;
							  @type stdout
							&lt;/filter&gt;
							
							&lt;match **&gt;
							  @type file
							  path /var/log/fluentd/output.log
							  append true
							  time_slice_format %Y%m%d%H
							  time_format %Y-%m-%dT%H:%M:%S%z
							  format json
							&lt;/match&gt;
							</code></pre>
					</section>
				</section>
				<section>
					<h1>XII. Admin processes</h1>
				</section>
				<li>
					run as separate, ONE OFF, app, but identical.
				</li>
				<li>
					Maintenance
				</li>
				<section>
					
				</section>

				<section>
					<h2 style="color: rgb(104, 104, 203);">10</h2>
					<h2>Dev/Prod Parity: Keep Development, Staging, and Production as Similar as Possible</h2>
					<p>Minimize differences between environments to avoid surprises in production.</p>
					<p>Best Practice: Use Docker Compose to mirror production environments locally.</p>
					<p>Example:</p>
					<pre><code>docker-compose up -d</code></pre>
				</section>
			</div>
		</div>
		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
